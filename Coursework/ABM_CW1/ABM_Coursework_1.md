Course link: [[Agent-Based Model]]
## Proposal
Sugarscape model是由XXX提出的ABM模型，其描述了一个基于有限地形中，Agent移动、收集和消耗糖分的场景。在NetLogo中，提供了三种基本的Sugarscape模型。
* 第一种模型描述了一种在有限空间中，人口数量有限的情况下，人们移动、消耗和采集糖分的场景。
* 第二种模型基于第一种模型，只不过糖分并不是瞬间补充，而是逐步补充完全的。这表示在这种场景中，资源并不是无限的，而是需要时间去恢复到原来的水平。
* 第三种模型则描述了在有限空间中，人口数量恒定的情况下，人们移动、消耗和采集糖分的场景。在每个阶段更新时，会有与上个阶段死亡人数相同的代理人出生，进而保证整体的代理人数量不变。
这些模型可以用来近似的描述人类社会中人类活动，比如财富的采集和分配等。在NetLogo的Sugarscape模型中，Agent被定义为具有如下属性：初始糖数量、视距和代谢数量。其可以分别映射到人类社会中的每个个体所拥有的初始资金、个人能力和自身金钱成本。

在现实社会中仍有很多的不平等现象，比如财富不平等。这将会大大影响社会的幸福指数。因此在本次课程作业我想通过使用NetLogo中的Sugarscape模型来寻找出影响人类社会幸福指数的可能因素，来帮助我们的社会更加的富裕和平等。

为了使结果方便理解，在此定义系统内幸福度用$H$来表示，$H$的值采用加权多因子综合定义。基于$$H=\sum_{i=1}^nw_i\times I_i$$
其中$$\sum_{i=1}^nw_i=1$$
计划使用两种模式和XXX来....

## Methods and Results

### Step 1: Random mode

使用第一种模型来探索在随机模式下，==幸福度$H$与初始人口，初始糖分，代谢值与视距==之间的关系。在该模式下选择将存活率、糖的平均值和标准差作为因子，则评价方式为:
$$H=w_1\times I_{survive\_rate}+w_2\times I_{sugar\_mean}+w_3\times (1-I_{sugar\_dev})+w_4\times I_{increasable}$$

$I_{survive\_rate}$为生存率因子，其值为生存率的归一化结果。生存率因子值域为$[0,1]$，值越大说明结果越好。生存率为最终人口与初始人口的比值，具体的计算方式为
$$R_{survive}=\frac{N_{pop}}{N_{ini\_pop}}$$

$I_{sugar\_mean}$与$I_{sugar\_dev}$分别糖的平均值与标准差的归一化结果。

$I_{increasable}$为财富可增长的人数的比例。因为在模型1中，每个区块的糖是即时增长的，因此在人口恒定后的模拟中，代谢数等于所在区块含糖量的代理人的糖便不会增加；而代谢数大于所在区块含糖量的代理人的糖将会随着模拟进行下去而无限增加。因此将糖可增长的代理人占总人数的比例纳入到考虑中。

==权重值定义==为$(w_1,w_2,w_3,w_4)\rightarrow(0.6,0.1,0.2,0.1)$

### NetLogo 定义

==环境描述==：场地为默认的双峰地形，场地大小为$50\times 50$。同时规定海龟不能重叠，即有竞争。

==停止条件==为所有代理人的消耗值小于或等于所在区块的含糖量。因为当所有代理人的消耗值小于或等于所在区块的含糖量时，如果继续进行模拟，人口总数不会变化，但是代谢数大于所在区块含糖量的代理人的糖将会随着模拟进行下去而无限增加，财富差异将会逐渐拉大，导致之后的模拟便失去的意义。

==变量设置==：初始人口为1-2499内的随机值，海龟的代谢值为1-4内的随机值，初始糖量为1-30内的随机值，视距为1-10内的随机值。

==模拟次数==：10000

==结果输出==：使用行为空间工具，模拟结束时输出生存率、糖均值、糖标准差、可增长人口比率。

### Results
使用Python对输出的结果进行数据清洗和处理，最终得到相关性矩阵如下。
![[model1_corr.png]]

结果显示，幸福指数与初始人数呈极强的负相关性，与平均初始糖量、平均初始视距、平均初始消耗基本不具有相关性。

具体数值如下：
![[1676656047620.jpg]]

### Multiple Linear Regressive Analysis
建立多元线性回归方程$$H\sim x_{initial\_population}+x_{initial\_mean\_sugar}+ x_{initial\_mean\_vision}+x_{initial\_mean\_metabolism}$$
对各因子进行归一化后，建立多元线性回归方程，以比较各因子对于模型的影响程度大小。
最终得到线性回归方程为
$$H=-0.1313\times x_{initial\_population}-0.024\times x_{initial\_mean\_sugar}+ 0.1026\times x_{initial\_mean\_vision}-0.1513\times x_{initial\_mean\_metabolism}+0.7025$$
回归方程的$R^2=0.909$，结果显著。


各因子系数表如下：

|Factor|coefficient|
|--|--|
|initial population|-0.1313|
|initial mean sugar|-0.024|
|initial mean vision|0.1026|
|initial mean metabolism|-0.1513|

### Result analysis
在这种模式下，幸福指数与初始人口呈负相关关系，即人口越多，人们的幸福指数便会下降。
同时，幸福指数的四个因子对于初始人口都呈现出了较强的负相关性。推测造成这种情况的原因为：在场地一定的情况下，更多的人口会造成更多的竞争进而导致更多的死亡出现，财富的积累和存活率的降低，进而影响幸福指数的增高。

从回归方程的结果中可以看出初始视距对幸福指数的正面影响较大，平均消耗和初始人口数量对幸福指数的负面影响较大，而初始的糖分配对于幸福指数的影响较小。


## Discussion


## Conclusion

## Appendix code


